"\tthen",
#'System.out.println(".......................................................");',
# '\t\tSystem.out.println("In rule: " + input);',
# 'System.out.println(input.get("Transaction_Amount").getClass() + ".................."+input.get("Transaction_Amount"));',
'\t\toutput.put("Account_ID", input.get("Account_ID"));',
'\t\toutput.put("Transaction_Amount", input.get("Transaction_Amount"));',
"\t\toutput.put(\"Result\",min);",
# '\t\tSystem.out.println("in rule..."+output);',
"end"
)
testRulesSession3 <- rulesSession(testRuleList3,testInputCols,testOutputCols)
testRuleList3 <-list(
"import java.util.HashMap;",
"import java.lang.Double;",
"global java.util.HashMap output;",
"",
"rule \"rule pass\"",
"\tsalience 2",
"\twhen",
"\t\tinput: HashMap( this[\"Transaction_Amount\"] >= 100 )",
'\t\tmin: Number( input["Transaction_Amount"] > 100 )
from accumulate(
HashMap(Account_ID==input.get("Account_ID"), txn: Double.valueOf(this["Transaction_Amount"])),
collectSet(txn))',
"\tthen",
#'System.out.println(".......................................................");',
# '\t\tSystem.out.println("In rule: " + input);',
# 'System.out.println(input.get("Transaction_Amount").getClass() + ".................."+input.get("Transaction_Amount"));',
'\t\toutput.put("Account_ID", input.get("Account_ID"));',
'\t\toutput.put("Transaction_Amount", input.get("Transaction_Amount"));',
"\t\toutput.put(\"Result\",min);",
# '\t\tSystem.out.println("in rule..."+output);',
"end"
)
testData<-read.csv("./SampleRules/Transactionrules.csv",stringsAsFactors = FALSE)
sampleRules <-read.csv("./SampleRules/Transactionrules.csv",stringsAsFactors = FALSE)
sampleRules <-read.csv("./SampleRules/Transactionrules.csv",stringsAsFactors = FALSE)
datatable(
head(sampleRules, 20), extensions = 'FixedColumns',
options = list(
dom = 't',
scrollX = TRUE,
scrollCollapse = TRUE
))
View(testData)
str(testData)
sampleData <- testData
#Package installation if required for handbook
required.packages <- c('Rdrools','DT','lubridate')
for(pkg in required.packages){
if(!require(pkg,character.only = T)){
install.packages(pkg, repos = "http://cloud.r-project.org/")
library(pkg)
}
}
sampleData <- testData
sampleData$Date <- ymd(sampleData$Date)
sampleData <- testData
sampleData$Date <- ymd(sampleData$Date)
str(sampleData)
View(sampleRules)
#Package installation if required for handbook
required.packages <- c('Rdrools','DT','lubridate')
for(pkg in required.packages){
if(!require(pkg,character.only = T)){
install.packages(pkg, repos = "http://cloud.r-project.org/")
library(pkg)
}
}
datatable(
head(class, 20), extensions = 'FixedColumns',
options = list(
dom = 't',
scrollX = TRUE,
scrollCollapse = TRUE
))
data(rules)
rules <-list("import java.util.HashMap;",
"global java.util.HashMap output;",
"",
"rule \"rule pass\"",
"\tsalience 2",
"\twhen",
"\t\tinput : HashMap( this[\"grade\"] >= 50 )",
"\tthen",
"//\t\tSystem.out.println(\"in rule...\"+input);" ,
"\t\toutput.put(\"address\", \"\" + input.get(\"email\"));",
"\t\toutput.put(\"subject\", \"Your grade in \" + input.get(\"class\"));",
"\t\toutput.put(\"body\", \"You passed with a \" + input.get(\"grade\") + \" in \" + input.get(\"class\") + \", \" + input.get(\"name\"));",
"//\t\tSystem.out.println(\"in rule...\"+output);" ,
"end",
"",
"rule \"rule fail\"",
"\tsalience 1",
"\twhen",
"\t\tinput : HashMap( this[\"grade\"] < 50 )",
"\tthen",
"//\t\tSystem.out.println(\"in rule...\"+input);" ,
"\t\toutput.put(\"address\", \"\" + input.get(\"email\"));",
"\t\toutput.put(\"subject\", \"Your grade in \" + input.get(\"class\"));",
"\t\toutput.put(\"body\", \"You failed with a \" + input.get(\"grade\") + \" in \" + input.get(\"class\") + \", \" + input.get(\"name\"));",
"//\t\tSystem.out.println(\"in rule...\"+output);" ,
"end"
)
output.columns <- c('address','subject','body')
input.columns <- c('name','class','grade','email')
rules.session <- rulesSession(rules,input.columns,output.columns)
run.rules <- runRules(rules.session,class)
datatable(
head(run.rules, 20), extensions = 'FixedColumns',
options = list(
dom = 't',
scrollX = TRUE,
scrollCollapse = TRUE
))
testData<-read.csv("./SampleDataset/transactionsdata.csv",stringsAsFactors = FALSE)
testData <- testData[1:50,]
datatable(
head(testData, 20), extensions = 'FixedColumns',
options = list(
dom = 't',
scrollX = TRUE,
scrollCollapse = TRUE
))
testInputCols <- c("Account_ID", "Transaction_Amount")
testOutputCols <- c("Account_ID", "Transaction_Amount","Result")
testRuleList3 <-list(
"import java.util.HashMap;",
"import java.lang.Double;",
"global java.util.HashMap output;",
"",
"rule \"rule pass\"",
"\tsalience 2",
"\twhen",
"\t\tinput: HashMap( this[\"Transaction_Amount\"] >= 100 )",
'\t\tmin: Number( input["Transaction_Amount"] > 100 )
from accumulate(
HashMap(Account_ID==input.get("Account_ID"), txn: Double.valueOf(this["Transaction_Amount"])),
sum(txn))',
"\tthen",
#'System.out.println(".......................................................");',
# '\t\tSystem.out.println("In rule: " + input);',
# 'System.out.println(input.get("Transaction_Amount").getClass() + ".................."+input.get("Transaction_Amount"));',
'\t\toutput.put("Account_ID", input.get("Account_ID"));',
'\t\toutput.put("Transaction_Amount", input.get("Transaction_Amount"));',
"\t\toutput.put(\"Result\",min);",
# '\t\tSystem.out.println("in rule..."+output);',
"end"
)
testRulesSession3 <- rulesSession(testRuleList3,testInputCols,testOutputCols)
testRunRules3 <- runRules(testRulesSession3,testData)
datatable(
head(testRunRules3, 20), extensions = 'FixedColumns',
options = list(
dom = 't',
scrollX = TRUE,
scrollCollapse = TRUE
))
testRunRules3 <- runRules(testRulesSession3,testData)
sampleRules <-read.csv("./SampleRules/Transactionrules.csv",stringsAsFactors = FALSE)
datatable(
head(sampleRules, 20), extensions = 'FixedColumns',
options = list(
dom = 't',
scrollX = TRUE,
scrollCollapse = TRUE
))
sampleData <- testData
sampleData$Date <- ymd(sampleData$Date)
str(sampleData)
sampleData <- testData
sampleData$Date <- ymd(sampleData$Date)
str(sampleData)
View(sampleData)
#Package installation if required for handbook
required.packages <- c('Rdrools','DT','lubridate')
for(pkg in required.packages){
if(!require(pkg,character.only = T)){
install.packages(pkg, repos = "http://cloud.r-project.org/")
library(pkg)
}
}
datatable(
head(class, 20), extensions = 'FixedColumns',
options = list(
dom = 't',
scrollX = TRUE,
scrollCollapse = TRUE
))
data(rules)
rules <-list("import java.util.HashMap;",
"global java.util.HashMap output;",
"",
"rule \"rule pass\"",
"\tsalience 2",
"\twhen",
"\t\tinput : HashMap( this[\"grade\"] >= 50 )",
"\tthen",
"//\t\tSystem.out.println(\"in rule...\"+input);" ,
"\t\toutput.put(\"address\", \"\" + input.get(\"email\"));",
"\t\toutput.put(\"subject\", \"Your grade in \" + input.get(\"class\"));",
"\t\toutput.put(\"body\", \"You passed with a \" + input.get(\"grade\") + \" in \" + input.get(\"class\") + \", \" + input.get(\"name\"));",
"//\t\tSystem.out.println(\"in rule...\"+output);" ,
"end",
"",
"rule \"rule fail\"",
"\tsalience 1",
"\twhen",
"\t\tinput : HashMap( this[\"grade\"] < 50 )",
"\tthen",
"//\t\tSystem.out.println(\"in rule...\"+input);" ,
"\t\toutput.put(\"address\", \"\" + input.get(\"email\"));",
"\t\toutput.put(\"subject\", \"Your grade in \" + input.get(\"class\"));",
"\t\toutput.put(\"body\", \"You failed with a \" + input.get(\"grade\") + \" in \" + input.get(\"class\") + \", \" + input.get(\"name\"));",
"//\t\tSystem.out.println(\"in rule...\"+output);" ,
"end"
)
output.columns <- c('address','subject','body')
input.columns <- c('name','class','grade','email')
rules.session <- rulesSession(rules,input.columns,output.columns)
run.rules <- runRules(rules.session,class)
datatable(
head(run.rules, 20), extensions = 'FixedColumns',
options = list(
dom = 't',
scrollX = TRUE,
scrollCollapse = TRUE
))
testData<-read.csv("./SampleDataset/transactionsdata.csv",stringsAsFactors = FALSE)
testData <- testData[1:50,]
datatable(
head(testData, 20), extensions = 'FixedColumns',
options = list(
dom = 't',
scrollX = TRUE,
scrollCollapse = TRUE
))
testInputCols <- c("Account_ID", "Transaction_Amount")
testOutputCols <- c("Account_ID", "Transaction_Amount","Result")
testRuleList3 <-list(
"import java.util.HashMap;",
"import java.lang.Double;",
"global java.util.HashMap output;",
"",
"rule \"rule pass\"",
"\tsalience 2",
"\twhen",
"\t\tinput: HashMap( this[\"Transaction_Amount\"] >= 100 )",
'\t\tmin: Number( input["Transaction_Amount"] > 100 )
from accumulate(
HashMap(Account_ID==input.get("Account_ID"), txn: Double.valueOf(this["Transaction_Amount"])),
sum(txn))',
"\tthen",
#'System.out.println(".......................................................");',
# '\t\tSystem.out.println("In rule: " + input);',
# 'System.out.println(input.get("Transaction_Amount").getClass() + ".................."+input.get("Transaction_Amount"));',
'\t\toutput.put("Account_ID", input.get("Account_ID"));',
'\t\toutput.put("Transaction_Amount", input.get("Transaction_Amount"));',
"\t\toutput.put(\"Result\",min);",
# '\t\tSystem.out.println("in rule..."+output);',
"end"
)
testRulesSession3 <- rulesSession(testRuleList3,testInputCols,testOutputCols)
testRunRules3 <- runRules(testRulesSession3,testData)
datatable(
head(testRunRules3, 20), extensions = 'FixedColumns',
options = list(
dom = 't',
scrollX = TRUE,
scrollCollapse = TRUE
))
testRunRules3 <- runRules(testRulesSession3,testData)
sampleRules <-read.csv("./SampleRules/Transactionrules.csv",stringsAsFactors = FALSE)
datatable(
head(sampleRules, 20), extensions = 'FixedColumns',
options = list(
dom = 't',
scrollX = TRUE,
scrollCollapse = TRUE
))
sampleData <- testData
sampleData$Date <- ymd(sampleData$Date)
str(sampleData)
View(sampleData)
#Package installation if required for handbook
required.packages <- c('Rdrools','DT','lubridate')
for(pkg in required.packages){
if(!require(pkg,character.only = T)){
install.packages(pkg, repos = "http://cloud.r-project.org/")
library(pkg)
}
}
datatable(
head(class, 20), extensions = 'FixedColumns',
options = list(
dom = 't',
scrollX = TRUE,
scrollCollapse = TRUE
))
data(rules)
rules <-list("import java.util.HashMap;",
"global java.util.HashMap output;",
"",
"rule \"rule pass\"",
"\tsalience 2",
"\twhen",
"\t\tinput : HashMap( this[\"grade\"] >= 50 )",
"\tthen",
"//\t\tSystem.out.println(\"in rule...\"+input);" ,
"\t\toutput.put(\"address\", \"\" + input.get(\"email\"));",
"\t\toutput.put(\"subject\", \"Your grade in \" + input.get(\"class\"));",
"\t\toutput.put(\"body\", \"You passed with a \" + input.get(\"grade\") + \" in \" + input.get(\"class\") + \", \" + input.get(\"name\"));",
"//\t\tSystem.out.println(\"in rule...\"+output);" ,
"end",
"",
"rule \"rule fail\"",
"\tsalience 1",
"\twhen",
"\t\tinput : HashMap( this[\"grade\"] < 50 )",
"\tthen",
"//\t\tSystem.out.println(\"in rule...\"+input);" ,
"\t\toutput.put(\"address\", \"\" + input.get(\"email\"));",
"\t\toutput.put(\"subject\", \"Your grade in \" + input.get(\"class\"));",
"\t\toutput.put(\"body\", \"You failed with a \" + input.get(\"grade\") + \" in \" + input.get(\"class\") + \", \" + input.get(\"name\"));",
"//\t\tSystem.out.println(\"in rule...\"+output);" ,
"end"
)
output.columns <- c('address','subject','body')
input.columns <- c('name','class','grade','email')
rules.session <- rulesSession(rules,input.columns,output.columns)
run.rules <- runRules(rules.session,class)
datatable(
head(run.rules, 20), extensions = 'FixedColumns',
options = list(
dom = 't',
scrollX = TRUE,
scrollCollapse = TRUE
))
testData<-read.csv("./SampleDataset/transactionsdata.csv",stringsAsFactors = FALSE)
setwd("~/Desktop/DIE/Rdrools/ImprovementstoRdrools")
#Package installation if required for handbook
required.packages <- c('Rdrools','DT','lubridate')
for(pkg in required.packages){
if(!require(pkg,character.only = T)){
install.packages(pkg, repos = "http://cloud.r-project.org/")
library(pkg)
}
}
datatable(
head(class, 20), extensions = 'FixedColumns',
options = list(
dom = 't',
scrollX = TRUE,
scrollCollapse = TRUE
))
data(rules)
rules <-list("import java.util.HashMap;",
"global java.util.HashMap output;",
"",
"rule \"rule pass\"",
"\tsalience 2",
"\twhen",
"\t\tinput : HashMap( this[\"grade\"] >= 50 )",
"\tthen",
"//\t\tSystem.out.println(\"in rule...\"+input);" ,
"\t\toutput.put(\"address\", \"\" + input.get(\"email\"));",
"\t\toutput.put(\"subject\", \"Your grade in \" + input.get(\"class\"));",
"\t\toutput.put(\"body\", \"You passed with a \" + input.get(\"grade\") + \" in \" + input.get(\"class\") + \", \" + input.get(\"name\"));",
"//\t\tSystem.out.println(\"in rule...\"+output);" ,
"end",
"",
"rule \"rule fail\"",
"\tsalience 1",
"\twhen",
"\t\tinput : HashMap( this[\"grade\"] < 50 )",
"\tthen",
"//\t\tSystem.out.println(\"in rule...\"+input);" ,
"\t\toutput.put(\"address\", \"\" + input.get(\"email\"));",
"\t\toutput.put(\"subject\", \"Your grade in \" + input.get(\"class\"));",
"\t\toutput.put(\"body\", \"You failed with a \" + input.get(\"grade\") + \" in \" + input.get(\"class\") + \", \" + input.get(\"name\"));",
"//\t\tSystem.out.println(\"in rule...\"+output);" ,
"end"
)
output.columns <- c('address','subject','body')
input.columns <- c('name','class','grade','email')
rules.session <- rulesSession(rules,input.columns,output.columns)
run.rules <- runRules(rules.session,class)
datatable(
head(run.rules, 20), extensions = 'FixedColumns',
options = list(
dom = 't',
scrollX = TRUE,
scrollCollapse = TRUE
))
testData<-read.csv("./SampleDataset/transactionsdata.csv",stringsAsFactors = FALSE)
#Package installation if required for handbook
required.packages <- c('Rdrools','DT','lubridate')
for(pkg in required.packages){
if(!require(pkg,character.only = T)){
install.packages(pkg, repos = "http://cloud.r-project.org/")
library(pkg)
}
}
datatable(
head(class, 20), extensions = 'FixedColumns',
options = list(
dom = 't',
scrollX = TRUE,
scrollCollapse = TRUE
))
data(rules)
rules <-list("import java.util.HashMap;",
"global java.util.HashMap output;",
"",
"rule \"rule pass\"",
"\tsalience 2",
"\twhen",
"\t\tinput : HashMap( this[\"grade\"] >= 50 )",
"\tthen",
"//\t\tSystem.out.println(\"in rule...\"+input);" ,
"\t\toutput.put(\"address\", \"\" + input.get(\"email\"));",
"\t\toutput.put(\"subject\", \"Your grade in \" + input.get(\"class\"));",
"\t\toutput.put(\"body\", \"You passed with a \" + input.get(\"grade\") + \" in \" + input.get(\"class\") + \", \" + input.get(\"name\"));",
"//\t\tSystem.out.println(\"in rule...\"+output);" ,
"end",
"",
"rule \"rule fail\"",
"\tsalience 1",
"\twhen",
"\t\tinput : HashMap( this[\"grade\"] < 50 )",
"\tthen",
"//\t\tSystem.out.println(\"in rule...\"+input);" ,
"\t\toutput.put(\"address\", \"\" + input.get(\"email\"));",
"\t\toutput.put(\"subject\", \"Your grade in \" + input.get(\"class\"));",
"\t\toutput.put(\"body\", \"You failed with a \" + input.get(\"grade\") + \" in \" + input.get(\"class\") + \", \" + input.get(\"name\"));",
"//\t\tSystem.out.println(\"in rule...\"+output);" ,
"end"
)
output.columns <- c('address','subject','body')
input.columns <- c('name','class','grade','email')
rules.session <- rulesSession(rules,input.columns,output.columns)
run.rules <- runRules(rules.session,class)
datatable(
head(run.rules, 20), extensions = 'FixedColumns',
options = list(
dom = 't',
scrollX = TRUE,
scrollCollapse = TRUE
))
testData<-read.csv("./SampleDataset/transactionsdata.csv ",stringsAsFactors = FALSE)
testData<-read.csv("./SampleDataset/transactionsdata.csv ",stringsAsFactors = FALSE)
testData<-read.csv("./SampleDataset/transactionsdata.csv ",stringsAsFactors = FALSE)
testData<-read.csv("./SampleDataset/transactionsdata.csv ",stringsAsFactors = FALSE)
setwd("~/Desktop/DIE/Rdrools/ImprovementstoRdrools")
#Package installation if required for handbook
required.packages <- c('Rdrools','DT','lubridate')
for(pkg in required.packages){
if(!require(pkg,character.only = T)){
install.packages(pkg, repos = "http://cloud.r-project.org/")
library(pkg)
}
}
datatable(
head(class, 20), extensions = 'FixedColumns',
options = list(
dom = 't',
scrollX = TRUE,
scrollCollapse = TRUE
))
data(rules)
rules <-list("import java.util.HashMap;",
"global java.util.HashMap output;",
"",
"rule \"rule pass\"",
"\tsalience 2",
"\twhen",
"\t\tinput : HashMap( this[\"grade\"] >= 50 )",
"\tthen",
"//\t\tSystem.out.println(\"in rule...\"+input);" ,
"\t\toutput.put(\"address\", \"\" + input.get(\"email\"));",
"\t\toutput.put(\"subject\", \"Your grade in \" + input.get(\"class\"));",
"\t\toutput.put(\"body\", \"You passed with a \" + input.get(\"grade\") + \" in \" + input.get(\"class\") + \", \" + input.get(\"name\"));",
"//\t\tSystem.out.println(\"in rule...\"+output);" ,
"end",
"",
"rule \"rule fail\"",
"\tsalience 1",
"\twhen",
"\t\tinput : HashMap( this[\"grade\"] < 50 )",
"\tthen",
"//\t\tSystem.out.println(\"in rule...\"+input);" ,
"\t\toutput.put(\"address\", \"\" + input.get(\"email\"));",
"\t\toutput.put(\"subject\", \"Your grade in \" + input.get(\"class\"));",
"\t\toutput.put(\"body\", \"You failed with a \" + input.get(\"grade\") + \" in \" + input.get(\"class\") + \", \" + input.get(\"name\"));",
"//\t\tSystem.out.println(\"in rule...\"+output);" ,
"end"
)
output.columns <- c('address','subject','body')
input.columns <- c('name','class','grade','email')
rules.session <- rulesSession(rules,input.columns,output.columns)
run.rules <- runRules(rules.session,class)
datatable(
head(run.rules, 20), extensions = 'FixedColumns',
options = list(
dom = 't',
scrollX = TRUE,
scrollCollapse = TRUE
))
testData<-read.csv("./SampleDataset/transactionsdata.csv ",stringsAsFactors = FALSE)
testData <- read.csv("./SampleDataset/transactionsdata.csv ",stringsAsFactors = FALSE)
testData <- read.csv("./SampleDataset/TransactionsData.csv ",stringsAsFactors = FALSE)
sampleRules <-read.csv("./SampleRules/Transactionrules.csv",stringsAsFactors = FALSE)
